[{"id":"7266ad9c525304f9e83db739edfd7912","title":"OpenWrt转移将/overlay挂载到SDCard上(以MT1300为例)","content":"1. 安装相关工具(汉化web界面)shellopkg update\nopkg install block-mount kmod-fs-ext4 e2fsprogs fdisk\nopkg install luci-i18n-base-zh-cn2.修改fstab配置文件，更改现有文件系统的挂载点shellDEVICE=&quot;$(sed -n -e &quot;/\\s\\/overlay\\s.*$/s///p&quot; /etc/mtab)&quot;\nuci -q delete fstab.rwm\nuci set fstab.rwm=&quot;mount&quot;\nuci set fstab.rwm.device=&quot;$&#123;DEVICE&#125;&quot;\nuci set fstab.rwm.target=&quot;/rwm&quot;\nuci commit fstab3.查看U盘的相关信息shellblock info如果磁盘格式不是ext4,请执行下面的命令，否则跳过（注意，以下操作会格式化磁盘，请提前备份磁盘文件），注意命令中的&#x2F;dev&#x2F;sda1是使用block命令查看到的实际节点，请根据自己的实际情况修改\nshellDEVICE=&quot;/dev/mmcblk0p1&quot;\numount /dev/mmcblk0p1\nmkfs.ext4 $&#123;DEVICE&#125;4.在配置文件中设置挂载点，注意命令中的&#x2F;dev&#x2F;sda1是使用block命令查看到的实际节点，请根据自己的实际情况修改shellDEVICE=&quot;/dev/mmcblk0p1&quot;\neval $(block info $&#123;DEVICE&#125; | grep -o -e &quot;UUID=\\S*&quot;)\nuci -q delete fstab.overlay\nuci set fstab.overlay=&quot;mount&quot;\nuci set fstab.overlay.uuid=&quot;$&#123;UUID&#125;&quot;\nuci set fstab.overlay.target=&quot;/overlay&quot;\nuci commit fstab5.将文件系统中现有的内容拷贝到U盘中shellmkdir -p /tmp/cproot\nmount --bind /overlay /tmp/cproot\nmount $&#123;DEVICE&#125; /mnt\ntar -C /tmp/cproot -cvf - . | tar -C /mnt -xf -\numount /tmp/cproot /mnt6.重启路由器shellreboot\n\n\n\n\n\n完成后占用高问题(未测试)\n安装openclash后，占用很高的问题，捎带理解一下linux占用如何看\nhttp://www.ruanyifeng.com/blog/2011/07/linux_load_average_explained.html\n开启（关闭） flow offload\nshelliptables -I FORWARD 1 -m conntrack --ctstate RELATED,ESTABLISHED -j FLOWOFFLOAD\niptables -D FORWARD -m conntrack --ctstate RELATED,ESTABLISHED -j FLOWOFFLOAD实测mtk7621a 日常使用， 5分钟占用从0.6起步，降低到0.2\n\n","slug":"OpenWrt转移将-overlay挂载到SDCard上(以MT1300为例)","date":"2023-09-28T15:13:53.000Z","categories_index":"Openwrt","tags_index":"Openwrt","author_index":"Jeafly"},{"id":"650acb71737ec8e0ff9b38e80d4fcc4a","title":"Your First Post","content":"","slug":"Your-First-Post","date":"2023-09-27T14:57:57.000Z","categories_index":"","tags_index":"","author_index":"Jeafly"},{"id":"b9663f58f18133b35bfe243f3e916a80","title":"Hello World","content":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub.\nQuick StartCreate a new postbash$ hexo new &quot;My New Post&quot;More info: Writing\nRun serverbash$ hexo serverMore info: Server\nGenerate static filesbash$ hexo generateMore info: Generating\nDeploy to remote sitesbash$ hexo deployMore info: Deployment\n","slug":"hello-world","date":"2023-09-26T17:28:25.980Z","categories_index":"","tags_index":"","author_index":"Jeafly"}]